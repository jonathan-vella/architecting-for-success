![Microsoft Cloud Workshops](https://github.com/Microsoft/MCW-Template-Cloud-Workshop/raw/main/Media/ms-cloud-workshop.png "Microsoft Cloud Workshops")

<div class="MCWHeader1">
Building the business migration case with Windows Server and SQL Server
</div>

<div class="MCWHeader2">
Whiteboard design session trainer guide
</div>

<div class="MCWHeader3">
September 2022

</div>

Information in this document, including URL and other Internet Web site references, is subject to change without notice. Unless otherwise noted, the example companies, organizations, products, domain names, e-mail addresses, logos, people, places, and events depicted herein are fictitious, and no association with any real company, organization, product, domain name, e-mail address, logo, person, place or event is intended or should be inferred. Complying with all applicable copyright laws is the responsibility of the user. Without limiting the rights under copyright, no part of this document may be reproduced, stored in or introduced into a retrieval system, or transmitted in any form or by any means (electronic, mechanical, photocopying, recording, or otherwise), or for any purpose, without the express written permission of Microsoft Corporation.

Microsoft may have patents, patent applications, trademarks, copyrights, or other intellectual property rights covering subject matter in this document. Except as expressly provided in any written license agreement from Microsoft, the furnishing of this document does not give you any license to these patents, trademarks, copyrights, or other intellectual property.

The names of manufacturers, products, or URLs are provided for informational purposes only and Microsoft makes no representations and warranties, either expressed, implied, or statutory, regarding these manufacturers or the use of the products with any Microsoft technologies. The inclusion of a manufacturer or product does not imply endorsement of Microsoft of the manufacturer or product. Links may be provided to third party sites. Such sites are not under the control of Microsoft and Microsoft is not responsible for the contents of any linked site or any link contained in a linked site, or any changes or updates to such sites. Microsoft is not responsible for webcasting or any other form of transmission received from any linked site. Microsoft is providing these links to you only as a convenience, and the inclusion of any link does not imply endorsement of Microsoft of the site or the products contained therein.

© 2022 Microsoft Corporation. All rights reserved.

Microsoft and the trademarks listed at https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/Usage/General.aspx are trademarks of the Microsoft group of companies. All other trademarks are property of their respective owners.

**Contents**

<!-- TOC -->

- [Trainer information](#trainer-information)
  - [Role of the trainer](#role-of-the-trainer)
  - [Whiteboard design session flow](#whiteboard-design-session-flow)
  - [Before the whiteboard design session: How to prepare](#before-the-whiteboard-design-session-how-to-prepare)
  - [During the whiteboard design session: Tips for an effective whiteboard design session](#during-the-whiteboard-design-session-tips-for-an-effective-whiteboard-design-session)
- [Building the business migration case with Windows Server and SQL Server whiteboard design session student guide](#building-the-business-migration-case-with-windows-server-and-sql-server-whiteboard-design-session-student-guide)
    - [Abstract and learning objectives](#abstract-and-learning-objectives)
    - [Step 1: Review the customer case study](#step-1-review-the-customer-case-study)
        - [Customer situation](#customer-situation)
        - [Customer needs](#customer-needs)
        - [Customer objections](#customer-objections)
        - [Infographic for common scenarios](#infographic-for-common-scenarios)
    - [Step 2: Design a proof of concept solution](#step-2-design-a-proof-of-concept-solution)
    - [Step 3: Present the solution](#step-3-present-the-solution)
    - [Wrap-up](#wrap-up)
    - [Additional references](#additional-references)
- [Building the business migration case with Windows Server and SQL Server whiteboard design session trainer guide](#building-the-business-migration-case-with-windows-server-and-sql-server-whiteboard-design-session-trainer-guide)
    - [Step 1: Review the customer case study](#step-1-review-the-customer-case-study-1)
    - [Step 2: Design a proof of concept solution](#step-2-design-a-proof-of-concept-solution-1)
    - [Step 3: Present the solution](#step-3-present-the-solution-1)
    - [Wrap-up](#wrap-up-1)
    - [Preferred target audience](#preferred-target-audience)
    - [Preferred solution](#preferred-solution)
    - [Checklist of preferred objection handling](#checklist-of-preferred-objection-handling)
    - [Customer quote (to be read back to the attendees at the end)](#customer-quote-to-be-read-back-to-the-attendees-at-the-end)

<!-- /TOC -->

# Trainer information

Thank you for taking the time to support the whiteboard design sessions as a trainer!

## Role of the trainer

An amazing trainer:

- Creates a safe environment in which learning can take place.

- Stimulates the participant's thinking.

- Involves the participant in the learning process.

- Manages the learning process (on time, on topic, and adjusting to benefit participants).

- Ensures individual participant accountability.

- Ties it all together for the participant.

- Provides insight and experience into the learning process.

- Effectively leads the whiteboard design session discussion.

- Monitors quality and appropriateness of participant deliverables.

- Effectively leads the feedback process.

## Whiteboard design session flow

Each whiteboard design session uses the following flow:

**Step 1: Review the customer case study (15 minutes)**

Outcome 

Analyze your customer's needs.

- Customer's background, situation, needs, and technical requirements

- Current customer infrastructure and architecture

- Potential issues, objectives, and blockers

**Step 2: Design a proof of concept solution (60 minutes)**

Outcome

Design a solution and prepare to present the solution to the target customer audience in a 15-minute chalk-talk format.

- Determine your target customer audience.

- Determine the customer's business needs to address your solution.

- Design and diagram your solution.

- Prepare to present your solution.

**Step 3: Present the solution (30 minutes)**

Outcome

Present the solution to your customer.

- Present solution

- Respond to customer objections

- Receive feedback

**Wrap-up (15 minutes)**

- Review preferred solution

## Before the whiteboard design session: How to prepare

Before conducting your first whiteboard design session:

- Read the Student guide (including the case study) and Trainer guide.

- Become familiar with all key points and activities.

- Plan the point you want to stress, which questions you want to drive, transitions, and be ready to answer questions.

- Prior to the whiteboard design session, discuss the case study to pick up more ideas.

- Make notes for later.

## During the whiteboard design session: Tips for an effective whiteboard design session

**Refer to the Trainer guide** to stay on track and observe the timings.

**Do not expect to memorize every detail** of the whiteboard design session.

When participants are doing activities, you can **look ahead to refresh your memory**.

- **Adjust activity and whiteboard design session pace** as needed to allow time for presenting, feedback, and sharing.

- **Add examples, points, and stories** from your own experience. Think about stories you can share that help you make your points clearly and effectively.

- **Consider creating a "parking lot"** to record issues or questions raised that are outside the scope of the whiteboard design session or can be answered later. Decide how you will address these issues, so you can acknowledge them without being derailed by them.

***Have fun**! Encourage participants to have fun and share!*

**Involve your participants.** Talk and share your knowledge but always involve your participants, even while you are the one speaking.

**Ask questions** and get them to share to fully involve your group in the learning process.

**Ask first**, whenever possible. Before launching into a topic, learn your audience's opinions about it and experiences with it. Asking first enables you to assess their level of knowledge and experience and leaves them more open to what you are presenting.

**Wait for responses**. If you ask a question such as, "What is your experience with (fill in the blank)?" then wait. Do not be afraid of a little silence. If you leap into the silence, your participants will feel you are not serious about involving them and will become passive. Give participants a chance to think, and if no one answers, patiently ask again. You will usually get a response.

# Building the business migration case with Windows Server and SQL Server whiteboard design session student guide

## Abstract and learning objectives

In this whiteboard design session, you will learn to design a strategy for migrating existing on-premises Windows Server and SQL Server workloads to Azure. Throughout the whiteboard design session, you will look at the virtual machine (VM) pricing, integrated management of cloud, and on-premises workloads using Azure Arc, and migrating SQL Server workloads to Azure.

At the end of the workshop, you will be better able to design a migration strategy for Windows Server workloads to Azure VMs, SQL Server workloads to Azure SQL Managed Instance (SQL MI), and simplify workload management using Azure Arc.

## Step 1: Review the customer case study

**Outcome**

Analyze your customer's needs.

Timeframe: 15 minutes

Directions:  With all participants in the session, the facilitator/SME presents an overview of the customer case study along with technical tips.

1. Meet your team members and trainer.

2. Read all directions for steps 1-3 in the student guide.

3. As a team, review the following customer case study.

### Customer situation

Tailspin Toys is a global manufacturer of children’s toys that was founded in 1957 with its global headquarters located in Milwaukee, WI. Their mission-critical workloads are currently hosted in an on-premises datacenter and they are beginning a journey to modernize and migrate into the cloud using Microsoft Azure.

During the Envision Workshop, Kaylee Frye, CTO of Tailspin Toys, saw the value of digital transformation, adopting the Microsoft Azure cloud, and modernizing their infrastructure. She has already had the Technical Architects at Tailspin Toys begin assessing their current environment and what it will take to migrate to the cloud. They are looking to optimize their technology investments by reducing technical debt, streamlining operations, and simplifying their DevOps workflow. According to Kaylee Frye, "Our development teams have already begun adopting DevOps strategies and implemented CI/CD (continuous integration and continuous delivery) pipelines with Azure DevOps. We really look forward to better streamlining IT operations as we adopt Microsoft Azure for the infrastructure too."

Tailspin has already completed the first round of analysis to identify the applications and workloads to migrate first. These workloads are hosted using SQL Server and Windows Server VMs. They have compiled an initial list of servers they believe can be migrated now, in addition to some they’ll need to retain on-premises.

Their on-premises environment consists of over 250 servers and VMs, although, they don't plan to migrate all of them to Azure. They want to implement a phased approach to the migration, so they've identified just a few VMs to begin with.

The first workload they want to migrate to Azure consists of:

- Web Application Front End
  - ASP.NET MVC using .NET Framework 4.7
  - 2x Windows Server 2012 VMs
    - Each with 2 CPU cores and 16 GB Memory
- REST API Back End
  - ASP.NET MVC using .NET Framework 4.7
  - 2x Windows Server 2012 VMs
    - Each with 4 CPU cores and 32 GB Memory
- Application Databases
  - SQL Server 2012
  - Data replication using SQL Availability Groups across 2x Windows Server 2012 VMs
    - Each with 8 CPU cores and 64 GB Memory
  - 3x databases with the following storage sizes
    - Database 1: 1.2 TB
    - Database 2: 435 GB
    - Database 3: 50 GB

They have identified several different types of on-premises workloads that may not be migrated to Azure, but would like some advice on how to handle these:

- Windows Domain Controllers
- 3x Network File Shares hosted on Windows Server 2012
- 8x Windows Server VMs hosting .NET Core and .NET Framework applications hosted using IIS
- 4x Ubuntu 18.04 Linux VMs running nginx hosting multiple small .NET Core web applications
- Legacy applications for supply chain management and other business critical systems that must remain on-premises until we can rebuild them to run in the cloud.

The virtual machines hosted in their on-premises datacenter are hosted using Windows Hyper-V. Some of the smaller .NET Core web applications in the identified workloads are planned to be phased out, so the VMs hosting those workloads will remain on-premises.

In preparations for their cloud adoption journey, Tailspin has already had an Azure ExpressRoute circuit provisioned to connect to their on-premises datacenter along with a Hub and Spoke Virtual Network topology in Azure. The ExpressRoute circuit is configured with 2 Gbps bandwidth to connect to the Azure Networking that has been set up in the North Central US region. This will provide them with the necessary Azure networking infrastructure to migrate their workloads. Since they are new to Azure, they will need some additional help in the migrations and modernization of their Windows Server and SQL Server workloads.

### Customer needs

1. Migrate existing workloads to Azure as efficiently as possible.

2. Lower the management burden with a consolidated view to manage all VMs and Servers cross Azure and on-premises.

3. Security is extremely important when integrating the on-premises network and workloads with Microsoft Azure.

4. With Windows Server 2012 extended support ending October 10, 2023, the new Azure VMs will need to be deployed using a newer version of Windows Server.

### Customer objections

1. It appears there are multiple options for hosting SQL databases in Azure. What's the best option to ensure compatibility?

2. What kind of downtime will be incurred when migrating the Windows Server and SQL Server workloads to Azure?

3. What are the options to roll back to the on-premises VMs if the migration fails?

4. What's the best way to handle managing all our VMs across on-premises and Azure? We do have workloads that will not be migrated to Azure.

5. Tailspin has negotiated an Enterprise Agreement (EA) with Microsoft for their Azure consumption. What can you do to ensure estimates reflect our EA discount?

6. Securing and monitoring our on-premises workloads is extremely important. What options does Azure offer to extend this into the cloud?

7. Would there be further savings from the use of PaaS services?

### Infographic for common scenarios

**Hub-spoke network topology in Azure**
![The image shows how on-premises network on the left connects through Azure ExpressRoute to the Hub VNet with Azure Bastion and Azure Firewall. On the right is multiple Spoke VNet that connect to the Hub VNet through VNet Peering and hosts multiple VM workloads.](images/diagram-azure-vnet-hub-spoke.png "Hub-spoke network topology in Azure")

**Azure Arc control plan**
![The image shows Azure with Azure Resource Manager in the center for managing Azure resources. On the left is customers who connect to Azure to manage their resources. On the right is Azure Arc enabling the Azure Arc-enabled workloads on-premises to be managed by Azure Resource Manager along-side Azure workloads.](images/diagram-azure-arc-control-plane.png "Azure Arc control plan")

## Step 2: Design a proof of concept solution

**Outcome**

Design a solution and prepare to present the solution to the target customer audience in a 15-minute chalk-talk format.

Timeframe: 60 minutes

**Business needs**

Directions: With your team, answer the following questions and be prepared to present your solution to others:

1. Who will you present this solution to? Who is your target customer audience? Who are the decision-makers?

2. What customer business needs do you need to address with your solution?

**Design**

Directions: With your team, respond to the following questions:

_High-level architecture_

Design an migration solution that addresses the needs and requirements of the organization. Provide details of your implementation. Make sure to document your design with a diagram along with addressing the questions. Address the requirements in the following areas:

_Migration_

1. How will you migrate the on-premises workloads to Azure?

2. How will you migrate the SQL Server workloads to Azure?

_On-premises Workload Management_

1. Which workloads should remain on-premises and which migrated at a later date?

2. How will they reduce the burden of managing both on-premises and Azure workloads?

_Pricing_

1. What is the estimated cost for the workloads after being migrated to Azure?

    - Be sure to cover all aspects of the design, including the primary site, disaster recovery (DR) solution, backup solution, and monitoring costs

    - What's the best option for hosting the SQL Server workloads?

    - Have you included all appropriate cost-saving measures?

**Prepare**

Directions: As a team:

1. Identify any customer needs that are not addressed with the proposed solution.

2. Identify the benefits of your solution.

3. Determine how you will respond to the customer's objections.

Prepare a 15-minute chalk-talk style presentation to the customer.

## Step 3: Present the solution

**Outcome**

Present a solution to the target customer audience in a 15-minute chalk-talk format.

Timeframe: 30 minutes

**Presentation**

Directions:

1. Pair with another team.

2. One group is the Microsoft team and the other is the customer.

3. The Microsoft team presents their proposed solution to the customer.

4. The customer makes one of the objections from the list of objections.

5. The Microsoft team responds to the objection.

6. The customer team gives feedback to the Microsoft team.

7. Switch roles and repeat Steps 2-6.

## Wrap-up

Timeframe: 15 minutes

Directions: Reconvene with the larger group to hear the facilitator/SME share the preferred solution for the case study.

## Additional references

|    |            |
|----------|:-------------:|
| **Description** | **Links** |
| Microsoft Azure Reference Architectures| <https://docs.microsoft.com/azure/guidance/guidance-architecture> |
| Hub-spoke network topology in Azure | <https://docs.microsoft.com/azure/architecture/reference-architectures/hybrid-networking/hub-spoke> |
| Extend an on-premises network using ExpressRoute | <https://docs.microsoft.com/azure/architecture/reference-architectures/hybrid-networking/expressroute> |
| Azure Arc overview | <https://docs.microsoft.com/azure/azure-arc/overview> |
| What is Azure SQL Managed Instance? | <https://docs.microsoft.com/en-us/azure/azure-sql/managed-instance/sql-managed-instance-paas-overview> |
| Azure Database Migration Service | <https://azure.microsoft.com/products/database-migration/#overview> |
| Overview of Data Migration Assistant | <https://docs.microsoft.com/sql/dma/dma-overview> |

# Building the business migration case with Windows Server and SQL Server whiteboard design session trainer guide

## Step 1: Review the customer case study

- Check-in with your participants to introduce yourself as the trainer.

- Ask, "What questions do you have about the customer case study?"

- Briefly review the steps and timeframes of the whiteboard design session.

- Ready, set, go! Let participants begin.

## Step 2: Design a proof of concept solution

- Check-in with your teams to ensure that they are transitioning from step to step on time.

- Provide feedback on their responses to the business needs and design.

  - Try asking questions first which will lead the participants to discover the answers on their own.

- Provide feedback for their responses to the customer's objections.

  - Try asking questions first which will lead the participants to discover the answers on their own.

## Step 3: Present the solution

- Determine which groups will be paired together before Step 3 begins.

- For the first round, assign one group as the presenting team and the other as the customer.

- Have the presenting team present their solution to the customer team.

  - Have the customer team provide one objection for the presenting team to respond to.

  - The presentation, objections, and feedback should take no longer than 15 minutes.

  - If needed, the trainer may also provide feedback.

## Wrap-up

- Have participants reconvene with the larger session group to hear the facilitator/SME share the following preferred solution.

## Preferred target audience

- Kaylee Frye, Chief Technology Officer
- Technical Architects

## Preferred solution

Design an migration solution that addresses the needs and requirements of the organization. Provide details of your implementation. Make sure to document your design with a diagram along with addressing the questions.

_High-level architecture_

![The image shows how on-premises network on the left connects through Azure ExpressRoute to the Hub VNet with Azure Bastion and Azure Firewall. On the right is the Spoke VNet that is connected to the Hub VNet through VNet Peering and hosts the VM workloads.](images/PreferredSolutionDiagram.png "Preferred Solution Diagram")

These are the components of the preferred solution diagram:

- Tailspin has Hub and Spoke networking setup with Azure ExpressRoute connected to Azure.
- The Web Application Front End, REST API Back End, and SQL Server Databases have been migrated to Azure and are running in Azure Virtual Machines hosted within a Spoke VNet in Azure that is peered with the Hub VNet.
- Each application in Azure is contained within its own Subnet with Network Security Groups securing them accordingly.
- The on-premises VMs are Azure Arc-enabled so they can be managed with a single pane of glass along with the Azure VMs using the Azure Portal.
- Other components that may be set up according to the clients requirements are:
  - Azure Bastion for secure Remote Desktop access to Azure VMs
  - Azure Firewall to protect the Web Application Front End (a common component to use in a secure Azure networking model)
  - Azure Monitor setup to implement monitoring of Azure VMs

These are some reasons for the chosen options in the preferred solution:

- New Azure VMs for the Web Application Front End and REST API Back End workloads migrated to Azure are used since they also need to be upgraded to the latest version of Windows Server.
- The SQL Server databases are migrated to Azure SQL Managed Instance (SQL MI) so moving the existing SQL Server VMs does not apply to this scenario. Also, SQL MI provides near 100% compatibility with on-premises SQL Server while providing a managed VM, in addition to Virtual Network integration support for security.
- The Network File Share and Ubuntu VMs are not migrated to Azure, as Tailspin Toys expressed that some of these servers either will not be migrated, or they will be in a future phase of the overall migration plan.
- The Windows Domain Controllers are kept on-premises as this likely is the best solution for Tailspin Toys. Doing otherwise would require additional scoping and work as part of a future phase of the overall migration plan.

_Migration_

1. How will you migrate the on-premises workloads to Azure?

   Since it is recommended to upgrade the version of Windows Server from 2012 to 2022, it will be necessary to create new servers. In this case, Azure Migrate can not be used to move the on-premises VMs into Azure as-is. New Azure VMs need to be created with the application workloads deployed to these new Azure VMs.

   Application deployment automation is already being done using Azure DevOps Pipelines, so there should be minimal effort necessary to extend those pipelines to deploy to the new Azure VMs.

2. How will you migrate the SQL Server workloads to Azure?

   For the SQL Server databases, Tailspin should use the Microsoft Data Migration Assistant (DMA) to assess database migration readiness. Using DMA to examine the existing on-premises databases will report any compatibility issues ahead of attempting the migration. Typically, SQL Server databases can be migrated to Azure SQL Database or Azure SQL Database Managed Instances. Also, Azure SQL Managed Instances offers greater compatibility with the on-premises SQL Server. SQL Server in Azure VMs could be used; however this will negate the advantages of using a managed service that eliminates the requirement for ongoing VM maintenance.

_On-premises Workload Management_

1. Which workloads should remain on-premises and which migrated at a later date?

   Among the workloads that have been identified for advice on migration to Azure, the Windows Domain Controllers are recommended to keep in the on-premises datacenter at this time.

   It is recommended to migrate the on-premises Network File Shares and Ubuntu VMs to Azure in a later phase of their Azure adoption. A phased approach to the migration process will enable each workload to be methodically migrated to Azure while limiting the risk of downtime across the organization.

   It is recommended to migrate the on-premises Network File Shares to Azure Storage File Shares. This would allow for a fully managed service to host the file shares without the requirement for ongoing VM maintenance. However, the configuration and usage of the File Shares will need to be assessed and discussed with Tailspin to ensure Azure Storage File Shares offer the features they need. If not, the Network File Shares could be migrated to Azure VMs if necessary.

   It is recommended to migrate the on-premises Ubuntu 18.04 Linux VMs to Azure. These could be migrated similarly to the Windows Server VMs, and the server requirements will need to be discussed with Tailspin. As was mentioned, they may be phasing out some of their web applications, as a result it may not be necessary to migrate all their on-premises servers.

2. How will they reduce the burden of managing both on-premises and Azure workloads?

   After some of the VMs are migrated to Azure, and others are still on-premises, it may be more burdensome to manage all their workloads in one place. For this, the use of Azure Arc is recommended. Azure Arc will enable Tailspin to centrally manage all their VMs in Azure and on-premises. Azure Arc supports managing both Windows and Linux servers and VMs.

   The on-premises Windows and Linux VMs can be Azure Arc-enabled by installing the Azure Connected Machine agent. The agent brings with it the ability to manage the VMs with Azure Arc, as well as all the great features the service has to offer.

_Pricing_

1. What is the estimated cost for the workloads after being migrated to Azure?

    - Be sure to cover all aspects of the design, including the primary site, disaster recover (DR) solution, backup solution, and monitoring costs

    - What's the best option for hosting the SQL Server workloads?

    - Have you included all appropriate cost-saving measures?

    **Solution**

    Pricing Azure solutions is a complex task. The example solution below includes many assumptions, for example on virtual machine size. These need to be validated with Tailspin Toys.

    Since Tailspin Toys and their current on-premises datacenter is in Milwaukee, WI. The nearest Azure Region to use will be North Central US. Their secondary Azure region for DR will be South Central US, as that's the Azure region pair for North Central US.

    The following pricing estimates are for their primary region. There will need to be additional discussions with Tailspin Toys to determine the extent of Disaster Recovery (DR) they require for this initial set of workloads being migrated to Azure.

    _Web Application Front End_

    | **Component** | **Region** | **Details / Assumptions** | **Est. Monthly Cost (USD)** |
    |----------|:-------------:|:-------------:|:-------------:|
    | Web VMs | North Central US | 2x D4s v5 VMs (4 vCores, 16 GiB RAM) & Windows Server 2022 | $140.00 each |

    _REST API Back End_

    | **Component** | **Region** | **Details / Assumptions** | **Est. Monthly Cost (USD)** |
    |----------|:---:|:-------------:|:-------------:|
    | Web VMs | North Central US | 2x D8s v5 VMs (8 vCores, 32 GiB RAM) & Windows Server 2022 | $280.00 each|

    > **Note:** Some discussion with Tailspin Toys may be needed to determine if additional changes to the choice of VM sizes and number of VMs could further lower hosting costs. Load balancing across a larger number of smaller VMs may help lower costs. Also, it's possible Azure App Service (PaaS services) could be an additional option for hosting the Web Application Front End and the REST API Back End depending on the client's needs.

    _Application Databases_

    | **Component** | **Region** | **Details / Assumptions** | **Est. Monthly Cost (USD)** |
    |----------|:---:|:-------------:|:-------------:|
    | Azure SQL Managed Instance | North Central US | 16 vCores Premium-series General Purpose (7 GB RAM/vCore) & 2 TB storage| $1,265.92 |

    > **Note:** Azure SQL Managed Instance should be configured with the Azure Hybrid Benefit to save up to 55% with the SQL Server licenses they already own.

    _Total Cost of Migrated Workloads to Azure_

    This is the total estimated monthly cost for all the Windows Server and SQL Server workloads migrated to Azure.

    | **Component** | **Est. Monthly Cost (USD)** |
    |-----------|:-----------------------:|
    | Front End Web VMs | 2x $140.00 |
    | Back End VMs | 2x $280.00 |
    | SQL MI | $1,265.92 |
    | **Total**| **$2,105.92** |

## Checklist of preferred objection handling

1. It appears there are multiple options for hosting SQL databases in Azure. What's the best option to ensure compatibility?

   Microsoft Azure does provide multiple options for hosting SQL databases. Azure SQL refers to a family of managed, secure, and intelligent products that use the SQL Server database engine in the Azure cloud. There is some overlap between the different options available, with each targeting different use cases, scenarios, and business motivations.

   For Tailspin Toys, it is recommended to use Azure SQL Managed Instances (SQL MI) for migrating the SQL Server databases to Azure. SQL MI provides near 100% compatibility with on-premises SQL Server database instances and includes features to best handle the common isolation and security concerns required by Tailspins organization.

   Here is a summary of the different options available:

   Azure SQL Database is a fully-managed general-purpose relational database-as-a-service (DBaaS) platform. Built on the latest stable version of the Microsoft SQL Server Database Engine, it provides a high-performance, easy-to-use, reliable, and secure database that you can use without needing to manage infrastructure. It is available as a single database or an elastic pool, which is a collection of databases with a shared set of resources.

   Azure SQL Managed Instances (SQL MI) is a fully-managed PaaS SQL Server Database Engine Instance that provides near 100% compatibility with on-premises SQL Server database instances. Unlike SQL DB, it does not use an isolated multi-tenant model. Instead, it supplies a native virtual network (VNet) implementation that addresses many common isolation and security concerns of on-premises SQL Server customers. As such, it is the best PaaS option for migrating existing SQL Server databases to the cloud.

   Running SQL Server on Azure VMs is an IaaS approach that would allow a 100% compatible transition of existing databases to the cloud, without any need for application changes. It works with any SQL Server version and edition on any machine size on Windows and Linux. SQL Server on an Azure VM provides a seamless, no-hassle method for moving SQL Server workloads from on-premises to the cloud. Teams will be freed from needing to manage on-premises hardware, but it does require teams to continue to manage the underlying infrastructure, including OS, database, and application patching. This option can also be more expensive with multiple databases and is more challenging to scale. High availability would come from using SQL Server Availability Groups.

2. What kind of downtime will be incurred when migrating the Windows Server and SQL Server workloads to Azure?

   All application tiers and databases will be deployed to the Azure VMs in parallel to the on-premises VMs. This will enable minimal downtime when the application load is redirected to the new VMs.

   To ensure data consistency during the migration, there will be a short window of downtime required at the database level when the cutover to the new servers is performed. Data migration using DMS supports online migration, allowing the applications to be kept online while data is synchronized.

3. What are the options to roll back to the on-premises VMs if the migration fails?

   The migration process will be designed to create new application deployments within their CI/CD pipelines to release to the new Windows Server 2022 VMs in Azure in parallel to the existing on-premises VMs. This will allow traffic to be cut over to the new VMs when ready.

   In the event of an unexpected issue during migration, the existing on-premises VMs, application deployments, and databases will remain in place as a fallback. If there is an issue detected during the cutover process, the on-premises servers will be able to immediately pick up where they left off.

4. What's the best way to handle managing all our VMs across on-premises and Azure? We do have workloads that will not be migrated to Azure.

   Azure Arc provides the ability manage all your on-premises and Azure VMs from a single place.

   Azure Arc-enabled servers let you manage Windows and Linux physical servers and virtual machines hosted outside of Azure, such as on-premises VMs. This management experience is designed to be consistent with how you manage native Azure virtual machines, using standard Azure constructs such as Azure Policy and applying tags.

5. Tailspin has negotiated an Enterprise Agreement (EA) with Microsoft for their Azure consumption. What can you do to ensure estimates reflect our EA discount?

   We absolutely want to take advantage of these savings for them! The cost estimates from the Azure Pricing Calculator can be tailored to reflect their EA discount.

6. Securing and monitoring our on-premises workloads is extremely important. What options does Azure offer to extend this into the cloud?

   Microsoft Defender for Cloud is a solution for cloud security posture management (CSPM) and cloud workload protection (CWP) that finds weak spots across your cloud configuration, helps strengthen the overall security posture of your environment, and can protect workloads across multi-cloud and hybrid environments from evolving threats.

   Azure Monitor collects monitoring telemetry from a variety of on-premises and Azure sources. Management tools, such as those in Azure Security Center and Azure Automation, also push log data to Azure Monitor. The service aggregates and stores this telemetry in a log data store that’s optimized for cost and performance. Analyze data, set up alerts, get end-to-end views of your applications, and use machine learning–driven insights to quickly identify and resolve problems.

7. Would there be further savings from the use of PaaS services?

   Further evaluation of the front end and back end .NET Framework applications will be necessary to determine the requirements for hosting these applications using Azure App Service. Azure App Service Web Apps provide a PaaS hosting option for applications that further reduce the management burden over IaaS VMs and does support hosting applications built with .NET Framework, and .NET Core, among other development languages.

   Azure Kubernetes Service (AKS) is another potential option for hosting applications. For Tailspin Toys, this may not be the best option as it would require further redesign and architecture of the applications to host in AKS. If Azure App Service doesn't meet the requirements of Tailspin Toys applications, then AKS may offer an alternative that fits better.

   If Tailspin Toys is looking to redesign the back end REST API applications, then Azure Functions would be a service to consider. The applications would not be able to be hosted in Azure Functions as they are currently written. Redesigning and rewriting the REST APIs would be required to move them to serverless Azure Functions hosting.

## Customer quote (to be read back to the attendees at the end)

"We recognized the need and benefits of migrating our aging infrastructure to Azure. I know this migration is going to help us increase reliability while lowering operation and maintenance costs. I'm really looking forward to the shiny new capabilities we are now able to take advantage of, including the ability to manage our on-premises and Azure VMs using Azure Arc."

-Kaylee Frye, CTO, Tailspin Toys
